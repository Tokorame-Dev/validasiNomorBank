const nameBank = [
  {
    "id": 1,
    "digit": 15,
    "code": "bri",
    "name": "PT. BANK BRI"
  },
  {
    "id": 2,
    "digit": 10,
    "code": "bsm",
    "name": "PT. BANK BRI SYARIAH"
  },
  {
    "id": 3,
    "digit": 13,
    "code": "mandiri",
    "name": "PT. BANK MANDIRI"
  },
  {
    "id": 4,
    "digit": 10,
    "code": "mandiri_syariah",
    "name": "PT. BANK MANDIRI SYARIAH"
  },
  {
    "id": 5,
    "digit": 10,
    "code": "bca",
    "name": "PT. BANK BCA"
  },
  {
    "id": 6,
    "digit": 10,
    "code": "bni",
    "name": "PT. BANK BNI"
  },
  {
    "id": 7,
    "digit": 16,
    "code": "btn",
    "name": "PT. BANK BTN"
  },
  {
    "id": 8,
    "digit": 10,
    "code": "btn_syariah",
    "name": "PT. BANK BTN SYARIAH"
  },
  {
    "id": 9,
    "digit": 10,
    "code": "danamon",
    "name": "PT. BANK DANAMON"
  },
  {
    "id": 10,
    "digit": 10,
    "code": "bukopin",
    "name": "PT. BANK BUKOPIN"
  }
]

function validateNameBank(digitBank) {
  nilai = [];
  nameBank.map((item) => {

    // cek panjang  digitBank
    if (digitBank.length === item.digit) {
      // tampilkan semua data sesuai panjang digitBank  
      nilai.push([item.code, item.name])
    }
  })

  return console.log('Bank yang support => ', nilai)
}

function validateBankId(nomorBank) {
  // buat reqex khusus nomor
  let req = /[^0-9]/
  // cek nomor bank
  if (req.test(nomorBank) === false) {

    // validasi nomor bank
    if (nomorBank.length === 10 || nomorBank.length === 13 || nomorBank.length === 15 || nomorBank.length === 16) {

      // jika true tampilkan bank yang susuai dengan digit nya
      return validateNameBank(nomorBank)
    } else {

      // jika false
      console.log('Nomor bank tidak valid')
      return false
    }

  } else {
    console.log('Nomor bank tidak ditemukan')
    return false
  }
}

// console.log(validateBankId('1234567890'))
module.exports.validateBankId = validateBankId